(this["webpackJsonpjavascript-stream-merger"]=this["webpackJsonpjavascript-stream-merger"]||[]).push([[0],{10:function(e,t,n){e.exports=n(18)},15:function(e,t,n){},17:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(8),o=n.n(c),u=(n(15),n(9)),i=n(3),l=n.n(i),s=n(6),p=n(4),d=n(5),f=(n(17),function(e){var t=new AudioContext,n=t.createMediaStreamDestination();return e.forEach((function(e){t.createMediaStreamSource(e).connect(n)})),n.stream}),m=function(e){return new Promise((function(t,n){e.play(),e.onplay=function(){var n=e.captureStream();t(n)}}))},b=function(e){var t=e.stream,n=e.onRecorderStop,a=[],r=new MediaRecorder(t);return r.start(0),r.ondataavailable=function(e){a.push(e.data)},r.onstop=function(e){var t=new Blob(a,{type:"audio/ogg; codecs=opus"});console.log("recording complete");var r=URL.createObjectURL(t),c=t.type.replace(/.+\/|;.+/g,"");n({audioDownload:r,anchorDownloadURL:c})},r},v=function(){var e=Object(a.useState)([]),t=Object(d.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(null),i=Object(d.a)(o,2),v=i[0],y=i[1],h=Object(a.useState)({}),j=Object(d.a)(h,2),g=j[0],w=j[1],E=Object(a.useRef)({recorder:null,selectedFilePlayerStreams:[]}).current,S=[].concat(Object(p.a)(E.selectedFilePlayerStreams),[v]).filter((function(e){return!!e}));return r.a.createElement("div",null,r.a.createElement("input",{type:"file",accept:"audio/*",onChange:function(e){var t=e.target.files[0],a=function(e){var t=new Audio;return t.controls="controls",t.src=e,t}(URL.createObjectURL(t));c([].concat(Object(p.a)(n),[a]))}}),r.a.createElement("div",null,r.a.createElement("p",null,"Selected Players"),r.a.createElement("ul",null,n.map((function(e,t){return r.a.createElement("li",{key:t},t)})))),r.a.createElement("div",null,"Is Mic Available ",v?"Yes":"No"),r.a.createElement("button",{type:"button",onClick:function(){(function(){var e=Object(s.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.mediaDevices.getUserMedia({audio:!0,video:!1});case 2:t=e.sent,y(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}},"Get Mic Available"),(S.length>0||n.length>0)&&r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{type:"button",onClick:function(){(function(){var e=Object(s.a)(l.a.mark((function e(){var t,a,r,c,o,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object(u.a)(n),e.prev=1,t.s();case 3:if((a=t.n()).done){e.next=11;break}return r=a.value,e.next=7,m(r);case 7:c=e.sent,E.selectedFilePlayerStreams.push(c);case 9:e.next=3;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),t.e(e.t0);case 16:return e.prev=16,t.f(),e.finish(16);case 19:if((o=[].concat(Object(p.a)(E.selectedFilePlayerStreams),[v]).filter((function(e){return!!e}))).length){e.next=22;break}return e.abrupt("return");case 22:i=f(o),E.recorder=b({stream:i,onRecorderStop:function(e){w(e)}});case 24:case"end":return e.stop()}}),e,null,[[1,13,16,19]])})));return function(){return e.apply(this,arguments)}})()()}},"Start"),r.a.createElement("button",{type:"button",onClick:function(){E.recorder&&(E.recorder.stop(),n.forEach((function(e){return e.pause()})))}},"Stop")),g.audioDownload&&r.a.createElement("button",{type:"button",onClick:function(){var e=new Audio;e.src=g.audioDownload,e.play()}},"Play Recorded"))};o.a.render(r.a.createElement(v,null),document.getElementById("root"))}},[[10,1,2]]]);
//# sourceMappingURL=main.d62e7d35.chunk.js.map